# POSIX FileSystem Interfaces

| Name            | C Definition                                                                                                                                                                                    | Comment |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| **statfs**      | int ceph\_statfs(struct ceph\_mount\_info \*cmount, const char \*path, struct statvfs \*stbuf)                                                                                                  |         |
| **sync\_fs**    | int ceph\_sync\_fs(struct ceph\_mount\_info \*cmount)                                                                                                                                           |         |
| getcwd          | const char\* ceph\_getcwd(struct ceph\_mount\_info \*cmount)                                                                                                                                    |         |
| chdir           | int ceph\_chdir(struct ceph\_mount\_info \*cmount, const char \*path)                                                                                                                           |         |
| **opendir**     | int ceph\_opendir(struct ceph\_mount\_info \*cmount, const char \*name, struct ceph\_dir\_result \*\*dirpp)                                                                                     |         |
| fopendir        | int ceph\_fdopendir(struct ceph\_mount\_info \*cmount, int dirfd, struct ceph\_dir\_result \*\*dirpp)                                                                                           |         |
| **closedir**    | int ceph\_closedir(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp)                                                                                                          |         |
| **readdir**     | struct dirent \* ceph\_readdir(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp)                                                                                              |         |
| readdir\_r      | int ceph\_readdir\_r(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp, struct dirent \*de)                                                                                    |         |
| readdirplus\_r  | int ceph\_readdirplus\_r(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp, struct dirent \*de, struct ceph\_statx \*stx, unsigned want, unsigned flags, struct Inode \*\*out) |         |
| **getdents**    | int ceph\_getdents(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp, char \*name, int buflen)                                                                                 |         |
| **getdnames**   | int ceph\_getdnames(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp, char \*name, int buflen)                                                                                |         |
| **rewinddir**   | void ceph\_rewinddir(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp)                                                                                                        |         |
| **telldir**     | int64\_t ceph\_telldir(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp)                                                                                                      |         |
| **seekdir**     | void ceph\_seekdir(struct ceph\_mount\_info \*cmount, struct ceph\_dir\_result \*dirp, int64\_t offset)                                                                                         |         |
| **mkdir**       | int ceph\_mkdir(struct ceph\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                             |         |
| mkdirat         | int ceph\_mkdirat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, mode\_t mode)                                                                                             |         |
| mkdirs          | int ceph\_mkdirs(struct ceph\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                            |         |
| **rmdir**       | int ceph\_rmdir(struct ceph\_mount\_info \*cmount, const char \*path)                                                                                                                           |         |
| **link**        | int ceph\_link(struct ceph\_mount\_info \*cmount, const char \*existing, const char \*newname)                                                                                                  |         |
| readlink        | int ceph\_readlink(struct ceph\_mount\_info \*cmount, const char \*path, char \*buf, int64\_t size)                                                                                             |         |
| readlinkat      | int ceph\_readlinkat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, char \*buf, int64\_t size)                                                                             |         |
| **symlink**     | int ceph\_symlink(struct ceph\_mount\_info \*cmount, const char \*existing, const char \*newname)                                                                                               |         |
| symlinkat       | int ceph\_symlinkat(struct ceph\_mount\_info \*cmount, const char \*existing, int dirfd, const char \*newname)                                                                                  |         |
| may\_delete     | int ceph\_may\_delete(struct ceph\_mount\_info \*cmount, const char \*path)                                                                                                                     |         |
| **unlink**      | int ceph\_unlink(struct ceph\_mount\_info \*cmount, const char \*path)                                                                                                                          |         |
| unlinkat        | int ceph\_unlinkat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, int flags)                                                                                               |         |
| **rename**      | int ceph\_rename(struct ceph\_mount\_info \*cmount, const char \*from, const char \*to)                                                                                                         |         |
| fstatx          | int ceph\_fstatx(struct ceph\_mount\_info \*cmount, int fd, struct ceph\_statx \*stx, unsigned int want, unsigned int flags)                                                                    |         |
| statxat         | int ceph\_statxat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, struct ceph\_statx \*stx, unsigned int want, unsigned int flags)                                          |         |
| **statx**       | int ceph\_statx(struct ceph\_mount\_info \*cmount, const char \*path, struct ceph\_statx \*stx, unsigned int want, unsigned int flags)                                                          |         |
| **stat**        | int ceph\_stat(struct ceph\_mount\_info \*cmount, const char \*path, struct stat \*stbuf)                                                                                                       |         |
| lstat           | int ceph\_lstat(struct ceph\_mount\_info \*cmount, const char \*path, struct stat \*stbuf)                                                                                                      |         |
| **fsetattrx**   | int ceph\_fsetattrx(struct ceph\_mount\_info \*cmount, int fd, struct ceph\_statx \*stx, int mask)                                                                                              |         |
| **chmod**       | int ceph\_chmod(struct ceph\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                             |         |
| lchmod          | int ceph\_lchmod(struct ceph\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                            |         |
| fchmod          | int ceph\_fchmod(struct ceph\_mount\_info \*cmount, int fd, mode\_t mode)                                                                                                                       |         |
| chmodat         | int ceph\_chmodat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, mode\_t mode, int flags)                                                                                  |         |
| **chown**       | int ceph\_chown(struct ceph\_mount\_info \*cmount, const char \*path, int uid, int gid)                                                                                                         |         |
| fchown          | int ceph\_fchown(struct ceph\_mount\_info \*cmount, int fd, int uid, int gid)                                                                                                                   |         |
| lchown          | int ceph\_lchown(struct ceph\_mount\_info \*cmount, const char \*path, int uid, int gid)                                                                                                        |         |
| chownat         | int ceph\_chownat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, uid\_t uid, gid\_t gid, int flags)                                                                        |         |
| **utime**       | int ceph\_utime(struct ceph\_mount\_info \*cmount, const char \*path, struct utimbuf \*buf)                                                                                                     |         |
| futime          | int ceph\_futime(struct ceph\_mount\_info \*cmount, int fd, struct utimbuf \*buf)                                                                                                               |         |
| **utimes**      | int ceph\_utimes(struct ceph\_mount\_info \*cmount, const char \*path, struct timeval times[2])                                                                                                 |         |
| lutimes         | int ceph\_lutimes(struct ceph\_mount\_info \*cmount, const char \*path, struct timeval times[2])                                                                                                |         |
| futimes         | int ceph\_futimes(struct ceph\_mount\_info \*cmount, int fd, struct timeval times[2])                                                                                                           |         |
| futimens        | int ceph\_futimens(struct ceph\_mount\_info \*cmount, int fd, struct timespec times[2])                                                                                                         |         |
| utimesat        | int ceph\_utimensat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, struct timespec times[2], int flags)                                                                    |         |
| **flock**       | int ceph\_flock(struct ceph\_mount\_info \*cmount, int fd, int operation, uint64\_t owner)                                                                                                      |         |
| **truncate**    | int ceph\_truncate(struct ceph\_mount\_info \*cmount, const char \*path, int64\_t size)                                                                                                         |         |
| **mknod**       | int ceph\_mknod(struct ceph\_mount\_info \*cmount, const char \*path, mode\_t mode, dev\_t rdev)                                                                                                |         |
| **open**        | int ceph\_open(struct ceph\_mount\_info \*cmount, const char \*path, int flags, mode\_t mode)                                                                                                   |         |
| openat          | int ceph\_openat(struct ceph\_mount\_info \*cmount, int dirfd, const char \*relpath, int flags, mode\_t mode)                                                                                   |         |
| open\_layout    | int ceph\_open\_layout(struct ceph\_mount\_info \*cmount, const char \*path, int flags, mode\_t mode, int stripe\_unit, int stripe\_count, int object\_size, const char \*data\_pool)           |         |
| **close**       | int ceph\_close(struct ceph\_mount\_info \*cmount, int fd)                                                                                                                                      |         |
| **lseek**       | int64\_t ceph\_lseek(struct ceph\_mount\_info \*cmount, int fd, int64\_t offset, int whence)                                                                                                    |         |
| **read**        | int ceph\_read(struct ceph\_mount\_info \*cmount, int fd, char \*buf, int64\_t size, int64\_t offset)                                                                                           |         |
| **preadv**      | int ceph\_preadv(struct ceph\_mount\_info \*cmount, int fd, const struct iovec \*iov, int iovcnt, int64\_t offset)                                                                              |         |
| **write**       | int ceph\_write(struct ceph\_mount\_info \*cmount, int fd, const char \*buf, int64\_t size, int64\_t offset)                                                                                    |         |
| **pwritev**     | int ceph\_pwritev(struct ceph\_mount\_info \*cmount, int fd, const struct iovec \*iov, int iovcnt, int64\_t offset)                                                                             |         |
| ftruncate       | int ceph\_ftruncate(struct ceph\_mount\_info \*cmount, int fd, int64\_t size)                                                                                                                   |         |
| **fsync**       | int ceph\_fsync(struct ceph\_mount\_info \*cmount, int fd, int syncdataonly)                                                                                                                    |         |
| **fallocate**   | int ceph\_fallocate(struct ceph\_mount\_info \*cmount, int fd, int mode, int64\_t offset, int64\_t length)                                                                                      |         |
| **getxattr**    | int ceph\_getxattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name, void \*value, size\_t size)                                                                         |         |
| fgetxattr       | int ceph\_fgetxattr(struct ceph\_mount\_info \*cmount, int fd, const char \*name, void \*value, size\_t size)                                                                                   |         |
| lgetxattr       | int ceph\_lgetxattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name, void \*value, size\_t size)                                                                        |         |
| **listxattr**   | int ceph\_listxattr(struct ceph\_mount\_info \*cmount, const char \*path, char \*list, size\_t size)                                                                                            |         |
| flistxattr      | int ceph\_flistxattr(struct ceph\_mount\_info \*cmount, int fd, char \*list, size\_t size)                                                                                                      |         |
| llistxattr      | int ceph\_llistxattr(struct ceph\_mount\_info \*cmount, const char \*path, char \*list, size\_t size)                                                                                           |         |
| **removexattr** | int ceph\_removexattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                  |         |
| fremovexattr    | int ceph\_fremovexattr(struct ceph\_mount\_info \*cmount, int fd, const char \*name)                                                                                                            |         |
| lremovexattr    | int ceph\_lremovexattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                 |         |
| **setxattr**    | int ceph\_setxattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name, const void \*value, size\_t size, int flags)                                                        |         |
| fsetxattr       | int ceph\_fsetxattr(struct ceph\_mount\_info \*cmount, int fd, const char \*name, const void \*value, size\_t size, int flags)                                                                  |         |
| lsetxattr       | int ceph\_lsetxattr(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name, const void \*value, size\_t size, int flags)                                                       |         |
| **mksnap**      | int ceph\_mksnap(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name, mode\_t mode, struct snap\_metadata \*snap\_metadata, size\_t nr\_snap\_metadata)                     |         |
| **rmsnap**      | int ceph\_rmsnap(struct ceph\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                       |         |
