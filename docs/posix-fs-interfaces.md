# POSIX FileSystem Interfaces

| Name            | C Definition                                                                                                                                                                                    | Comment |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|
| **statfs**      | int xxx\_statfs(struct xxx\_mount\_info \*cmount, const char \*path, struct statvfs \*stbuf)                                                                                                  |         |
| **sync\_fs**    | int xxx\_sync\_fs(struct xxx\_mount\_info \*cmount)                                                                                                                                           |         |
| getcwd          | const char\* xxx\_getcwd(struct xxx\_mount\_info \*cmount)                                                                                                                                    |         |
| chdir           | int xxx\_chdir(struct xxx\_mount\_info \*cmount, const char \*path)                                                                                                                           |         |
| **opendir**     | int xxx\_opendir(struct xxx\_mount\_info \*cmount, const char \*name, struct xxx\_dir\_result \*\*dirpp)                                                                                     |         |
| fopendir        | int xxx\_fdopendir(struct xxx\_mount\_info \*cmount, int dirfd, struct xxx\_dir\_result \*\*dirpp)                                                                                           |         |
| **closedir**    | int xxx\_closedir(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp)                                                                                                          |         |
| **readdir**     | struct dirent \* xxx\_readdir(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp)                                                                                              |         |
| readdir\_r      | int xxx\_readdir\_r(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp, struct dirent \*de)                                                                                    |         |
| readdirplus\_r  | int xxx\_readdirplus\_r(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp, struct dirent \*de, struct xxx\_statx \*stx, unsigned want, unsigned flags, struct Inode \*\*out) |         |
| **getdents**    | int xxx\_getdents(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp, char \*name, int buflen)                                                                                 |         |
| **getdnames**   | int xxx\_getdnames(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp, char \*name, int buflen)                                                                                |         |
| **rewinddir**   | void xxx\_rewinddir(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp)                                                                                                        |         |
| **telldir**     | int64\_t xxx\_telldir(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp)                                                                                                      |         |
| **seekdir**     | void xxx\_seekdir(struct xxx\_mount\_info \*cmount, struct xxx\_dir\_result \*dirp, int64\_t offset)                                                                                         |         |
| **mkdir**       | int xxx\_mkdir(struct xxx\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                             |         |
| mkdirat         | int xxx\_mkdirat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, mode\_t mode)                                                                                             |         |
| mkdirs          | int xxx\_mkdirs(struct xxx\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                            |         |
| **rmdir**       | int xxx\_rmdir(struct xxx\_mount\_info \*cmount, const char \*path)                                                                                                                           |         |
| **link**        | int xxx\_link(struct xxx\_mount\_info \*cmount, const char \*existing, const char \*newname)                                                                                                  |         |
| readlink        | int xxx\_readlink(struct xxx\_mount\_info \*cmount, const char \*path, char \*buf, int64\_t size)                                                                                             |         |
| readlinkat      | int xxx\_readlinkat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, char \*buf, int64\_t size)                                                                             |         |
| **symlink**     | int xxx\_symlink(struct xxx\_mount\_info \*cmount, const char \*existing, const char \*newname)                                                                                               |         |
| symlinkat       | int xxx\_symlinkat(struct xxx\_mount\_info \*cmount, const char \*existing, int dirfd, const char \*newname)                                                                                  |         |
| may\_delete     | int xxx\_may\_delete(struct xxx\_mount\_info \*cmount, const char \*path)                                                                                                                     |         |
| **unlink**      | int xxx\_unlink(struct xxx\_mount\_info \*cmount, const char \*path)                                                                                                                          |         |
| unlinkat        | int xxx\_unlinkat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, int flags)                                                                                               |         |
| **rename**      | int xxx\_rename(struct xxx\_mount\_info \*cmount, const char \*from, const char \*to)                                                                                                         |         |
| fstatx          | int xxx\_fstatx(struct xxx\_mount\_info \*cmount, int fd, struct xxx\_statx \*stx, unsigned int want, unsigned int flags)                                                                    |         |
| statxat         | int xxx\_statxat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, struct xxx\_statx \*stx, unsigned int want, unsigned int flags)                                          |         |
| **statx**       | int xxx\_statx(struct xxx\_mount\_info \*cmount, const char \*path, struct xxx\_statx \*stx, unsigned int want, unsigned int flags)                                                          |         |
| **stat**        | int xxx\_stat(struct xxx\_mount\_info \*cmount, const char \*path, struct stat \*stbuf)                                                                                                       |         |
| lstat           | int xxx\_lstat(struct xxx\_mount\_info \*cmount, const char \*path, struct stat \*stbuf)                                                                                                      |         |
| **fsetattrx**   | int xxx\_fsetattrx(struct xxx\_mount\_info \*cmount, int fd, struct xxx\_statx \*stx, int mask)                                                                                              |         |
| **chmod**       | int xxx\_chmod(struct xxx\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                             |         |
| lchmod          | int xxx\_lchmod(struct xxx\_mount\_info \*cmount, const char \*path, mode\_t mode)                                                                                                            |         |
| fchmod          | int xxx\_fchmod(struct xxx\_mount\_info \*cmount, int fd, mode\_t mode)                                                                                                                       |         |
| chmodat         | int xxx\_chmodat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, mode\_t mode, int flags)                                                                                  |         |
| **chown**       | int xxx\_chown(struct xxx\_mount\_info \*cmount, const char \*path, int uid, int gid)                                                                                                         |         |
| fchown          | int xxx\_fchown(struct xxx\_mount\_info \*cmount, int fd, int uid, int gid)                                                                                                                   |         |
| lchown          | int xxx\_lchown(struct xxx\_mount\_info \*cmount, const char \*path, int uid, int gid)                                                                                                        |         |
| chownat         | int xxx\_chownat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, uid\_t uid, gid\_t gid, int flags)                                                                        |         |
| **utime**       | int xxx\_utime(struct xxx\_mount\_info \*cmount, const char \*path, struct utimbuf \*buf)                                                                                                     |         |
| futime          | int xxx\_futime(struct xxx\_mount\_info \*cmount, int fd, struct utimbuf \*buf)                                                                                                               |         |
| **utimes**      | int xxx\_utimes(struct xxx\_mount\_info \*cmount, const char \*path, struct timeval times[2])                                                                                                 |         |
| lutimes         | int xxx\_lutimes(struct xxx\_mount\_info \*cmount, const char \*path, struct timeval times[2])                                                                                                |         |
| futimes         | int xxx\_futimes(struct xxx\_mount\_info \*cmount, int fd, struct timeval times[2])                                                                                                           |         |
| futimens        | int xxx\_futimens(struct xxx\_mount\_info \*cmount, int fd, struct timespec times[2])                                                                                                         |         |
| utimesat        | int xxx\_utimensat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, struct timespec times[2], int flags)                                                                    |         |
| **flock**       | int xxx\_flock(struct xxx\_mount\_info \*cmount, int fd, int operation, uint64\_t owner)                                                                                                      |         |
| **truncate**    | int xxx\_truncate(struct xxx\_mount\_info \*cmount, const char \*path, int64\_t size)                                                                                                         |         |
| **mknod**       | int xxx\_mknod(struct xxx\_mount\_info \*cmount, const char \*path, mode\_t mode, dev\_t rdev)                                                                                                |         |
| **open**        | int xxx\_open(struct xxx\_mount\_info \*cmount, const char \*path, int flags, mode\_t mode)                                                                                                   |         |
| openat          | int xxx\_openat(struct xxx\_mount\_info \*cmount, int dirfd, const char \*relpath, int flags, mode\_t mode)                                                                                   |         |
| open\_layout    | int xxx\_open\_layout(struct xxx\_mount\_info \*cmount, const char \*path, int flags, mode\_t mode, int stripe\_unit, int stripe\_count, int object\_size, const char \*data\_pool)           |         |
| **close**       | int xxx\_close(struct xxx\_mount\_info \*cmount, int fd)                                                                                                                                      |         |
| **lseek**       | int64\_t xxx\_lseek(struct xxx\_mount\_info \*cmount, int fd, int64\_t offset, int whence)                                                                                                    |         |
| **read**        | int xxx\_read(struct xxx\_mount\_info \*cmount, int fd, char \*buf, int64\_t size, int64\_t offset)                                                                                           |         |
| **preadv**      | int xxx\_preadv(struct xxx\_mount\_info \*cmount, int fd, const struct iovec \*iov, int iovcnt, int64\_t offset)                                                                              |         |
| **write**       | int xxx\_write(struct xxx\_mount\_info \*cmount, int fd, const char \*buf, int64\_t size, int64\_t offset)                                                                                    |         |
| **pwritev**     | int xxx\_pwritev(struct xxx\_mount\_info \*cmount, int fd, const struct iovec \*iov, int iovcnt, int64\_t offset)                                                                             |         |
| ftruncate       | int xxx\_ftruncate(struct xxx\_mount\_info \*cmount, int fd, int64\_t size)                                                                                                                   |         |
| **fsync**       | int xxx\_fsync(struct xxx\_mount\_info \*cmount, int fd, int syncdataonly)                                                                                                                    |         |
| **fallocate**   | int xxx\_fallocate(struct xxx\_mount\_info \*cmount, int fd, int mode, int64\_t offset, int64\_t length)                                                                                      |         |
| **getxattr**    | int xxx\_getxattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name, void \*value, size\_t size)                                                                         |         |
| fgetxattr       | int xxx\_fgetxattr(struct xxx\_mount\_info \*cmount, int fd, const char \*name, void \*value, size\_t size)                                                                                   |         |
| lgetxattr       | int xxx\_lgetxattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name, void \*value, size\_t size)                                                                        |         |
| **listxattr**   | int xxx\_listxattr(struct xxx\_mount\_info \*cmount, const char \*path, char \*list, size\_t size)                                                                                            |         |
| flistxattr      | int xxx\_flistxattr(struct xxx\_mount\_info \*cmount, int fd, char \*list, size\_t size)                                                                                                      |         |
| llistxattr      | int xxx\_llistxattr(struct xxx\_mount\_info \*cmount, const char \*path, char \*list, size\_t size)                                                                                           |         |
| **removexattr** | int xxx\_removexattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                  |         |
| fremovexattr    | int xxx\_fremovexattr(struct xxx\_mount\_info \*cmount, int fd, const char \*name)                                                                                                            |         |
| lremovexattr    | int xxx\_lremovexattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                 |         |
| **setxattr**    | int xxx\_setxattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name, const void \*value, size\_t size, int flags)                                                        |         |
| fsetxattr       | int xxx\_fsetxattr(struct xxx\_mount\_info \*cmount, int fd, const char \*name, const void \*value, size\_t size, int flags)                                                                  |         |
| lsetxattr       | int xxx\_lsetxattr(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name, const void \*value, size\_t size, int flags)                                                       |         |
| **mksnap**      | int xxx\_mksnap(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name, mode\_t mode, struct snap\_metadata \*snap\_metadata, size\_t nr\_snap\_metadata)                     |         |
| **rmsnap**      | int xxx\_rmsnap(struct xxx\_mount\_info \*cmount, const char \*path, const char \*name)                                                                                                       |         |
